{% extends 'base.html' %}
{% block content %}
  <h3>Reflected XSS demo (vulnerable)</h3>
  <form method="get" action="/echo" class="mb-3">
    <input class="form-control" name="q" placeholder="Enter something (try script)">
    <button class="btn btn-secondary mt-2">Echo</button>
  </form>

  <div class="card p-3">
    <strong>Reflected output (vulnerable):</strong>
    <!-- |safe causes raw HTML/js to be rendered -->
    <div class="mt-2">{{ q|safe }}</div>
  </div>

<!--    <div class="card p-3">-->
<!--    <strong>Reflected output (safe):</strong>-->
<!--    &lt;!&ndash; Bỏ |safe — mặc định template sẽ escape các ký tự nguy hiểm &ndash;&gt;-->
<!--    <div class="mt-2">{{ q }}</div>-->
<!--  </div>-->

  <p class="mt-3 text-muted">Try: <code>&lt;script&gt;alert(1)&lt;/script&gt;</code></p>
{% endblock %}

{% extends 'base.html' %}
{% block content %}
  <h3>Students (admin)</h3>
  <div class="mb-3">
    <a class="btn btn-success" href="{% url 'student_add' %}">Add Student</a>
    <a class="btn btn-secondary" href="{% url 'logout' %}">Logout</a>
  </div>

  {% if executed_query %}
    <div class="mb-2"><small class="text-muted">Executed query:</small>
      <pre class="bg-light p-2">{{ executed_query }}</pre>
    </div>
  {% endif %}

  {% if rows %}
    <table class="table table-hover">
      <thead><tr><th>ID</th><th>Ma</th><th>Ten</th><th>Dia chi</th><th>Lop</th><th>Action</th></tr></thead>
      <tbody>
      {% for s in rows %}
        <tr>
          <td>{{ s.id }}</td>
          <td>{{ s.ma_sv }}</td>
          <td>{{ s.ten_sv }}</td>
          <td>{{ s.dia_chi }}</td>
          <td>{{ s.lop }}</td>
          <td>
            <a class="btn btn-sm btn-info" href="{% url 'student_edit' s.id %}">Edit</a>
            <a class="btn btn-sm btn-danger" href="{% url 'student_delete' s.id %}" onclick="return confirm('Delete?')">Delete</a>
          </td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
  {% else %}
    <div class="note">No students found.</div>
  {% endif %}
{% endblock %}
